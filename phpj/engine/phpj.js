!function(e){var t={};function n(p){if(t[p])return t[p].exports;var o=t[p]={i:p,l:!1,exports:{}};return e[p].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,p){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:p})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var p=Object.create(null);if(n.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(p,o,function(t){return e[t]}.bind(null,o));return p},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){window.phpj={state:[],components:{phpjdemo:n(1)},services:n(2),engine:n(5),config:n(6),log:[]},phpj.engine.mutationObserver.observe(document,{childList:!0,subtree:!0}),phpj.engine.log("phpj initialized.")},function(e,t){e.exports=class{constructor(e,t){phpj.services.http.get("test1",{val:"testval"},{bearer:"test token"}).then(e=>{var t=document.createElement("template");e=e.trim(),t.innerHTML=e,document.body.appendChild(t.content.firstChild)}).catch(e=>console.log(e)),phpj.services.http.post("login",{username:"myusername",password:"abcDEF123!@#"}).then(e=>{console.log(e)}).catch(e=>console.log(e))}}},function(e,t,n){e.exports={http:n(3),validation:n(4)}},function(e,t){e.exports={post:(e,t,n)=>fetch(phpj.config.URI[phpj.config.ENVIRONMENT]+"api.php/"+e,{method:"POST",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)}).then(e=>phpj.services.http._getResponseContent(e)),get:(e,t,n)=>{let p=Object.keys(t).map(e=>e+"="+t[e]).join("&");return p.length&&(p="?"+p),fetch(phpj.config.URI[phpj.config.ENVIRONMENT]+"api.php/"+e+"/"+p,{method:"GET",headers:{"Content-Type":"application/json",...n}}).then(e=>phpj.services.http._getResponseContent(e))},put:(e,t,n)=>fetch(phpj.config.URI[phpj.config.ENVIRONMENT]+"api.php/"+e,{method:"PUT",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)}).then(e=>phpj.services.http._getResponseContent(e)),patch:(e,t,n)=>fetch(phpj.config.URI[phpj.config.ENVIRONMENT]+"api.php/"+e,{method:"PATCH",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)}).then(e=>phpj.services.http._getResponseContent(e)),delete:(e,t,n)=>fetch(phpj.config.URI[phpj.config.ENVIRONMENT]+"api.php/"+e,{method:"PATCH",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)}).then(e=>phpj.services.http._getResponseContent(e)),_getResponseContent:e=>{const t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():e.text()}}},function(e,t){e.exports={validate:(e,t)=>{let n=[];for(let p in t)if(e.hasOwnProperty(p)&&e[p]){if(t[p].hasOwnProperty("type"))if("object"==typeof t[p].type)if(Array.isArray(e[p]))for(let o of e[p])n=n.concat(phpj.services.validation.validate(o,t[p].type));else n=n.concat(phpj.services.validation.validate(e[p],t[p].type));else if(t[p].type===typeof e[p])["number","string","boolean"].indexOf(typeof e[p])>-1?n=n.concat(phpj.services.validation._validateLeafNode(p,e[p],t[p])):n.push({key:p,message:p+" is not of a supported type"});else if(Array.isArray(e[p]))for(let o of e[p])n=n.concat(phpj.services.validation._validateLeafNode(p,o,t[p]));else n.push({key:p,message:p+" does not match specified type."})}else t[p].hasOwnProperty("required")&&t[p].required&&n.push({key:p,message:p+" is required."});return n},_validateLeafNode:(e,t,n)=>{let p=[];return n.hasOwnProperty("minLength")&&t.length<n.minLength&&p.push({key:e,message:e+" must be at least "+n.minLength+" characters long."}),n.hasOwnProperty("maxLength")&&t.length>n.maxLength&&p.push({key:e,message:e+" cannot exceed "+n.maxLength+" characters."}),n.hasOwnProperty("isAlpha")&&n.isAlpha&&(phpj.services.validation.regex.alpha.test(t)||p.push({key:e,message:e+" can only contain letters."})),n.hasOwnProperty("isAlphaNumeric")&&n.isAlphaNumeric&&(phpj.services.validation.regex.alphaNumeric.test(t)||p.push({key:e,message:e+" can only contain letters and numbers."})),n.hasOwnProperty("isAlphaNumericSpaces")&&n.isAlphaNumericSpaces&&(phpj.services.validation.regex.alphaNumericSpaces.test(t)||p.push({key:e,message:e+" can only contain letters, numbers and spaces."})),n.hasOwnProperty("isCommonWriting")&&n.isCommonWriting&&(phpj.services.validation.regex.commonWriting.test(t)||p.push({key:e,message:e+" can only contain letters, numbers, spaces and punctuation."})),n.hasOwnProperty("isEmail")&&n.isEmail&&(phpj.services.validation.regex.email.test(t)||p.push({key:e,message:e+" must be a valid email."})),n.hasOwnProperty("isPassword")&&n.isPassword&&(phpj.services.validation.regex.password.test(t)||p.push({key:e,message:e+" must contain at least one lowercase and uppercase letter, number, and special character."})),n.hasOwnProperty("regex")&&(n.regex.test(t)||p.push({key:e,message:e+" does not match format."})),n.hasOwnProperty("min")&&t<n.min&&p.push({key:e,message:e+" must be at least "+n.min+"."}),n.hasOwnProperty("max")&&t>n.max&&p.push({key:e,message:e+" cannot exceed "+n.max+"."}),p},_regex:{email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,alpha:/^[a-zA-Z]*$/,numeric:/^[0-9]*$/,alphaNumeric:/^[a-zA-Z0-9]*$/,alphaNumericSpaces:/^[a-zA-Z0-9 ]*$/,commonWriting:/^[A-Za-z0-9 \-_.,?!()"'/$&]*$/,password:/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[-+_!@#$%^&*.,?])/}}},function(e,t){e.exports={mutationObserver:new MutationObserver((e,t)=>{for(let t of e)if("childList"===t.type)for(let e of t.addedNodes)if(e.attributes&&e.hasAttribute("phpjcomponent")){let t=e.getAttribute("phpjcomponent");if(phpj.components.hasOwnProperty(t)){let n=null;e.setAttribute("phpjcomponent",phpj.state.length),phpj.state.push({node:e,taggedNodes:phpj.engine.taggedNodeFinder(e),childComponents:null,component:null}),phpj.state[phpj.state.length-1].component=new phpj.components[t](e.getAttribute("phpjcomponent"),n),phpj.engine.log(`phpj component ${t} added to dom. id: ${e.getAttribute("phpjcomponent")}`)}else phpj.engine.log("phpj component -"+t+"- not defined.")}}),taggedNodeFinder:e=>{let t=document.createNodeIterator(e),n={};for(;t.nextNode();)if(t.referenceNode.attributes)for(attr of t.referenceNode.attributes)attr.name.startsWith("#")&&(n[attr.name.substr(1)]=t.referenceNode);return n},msgBubbleUP:(e,t,n)=>{let p=t,o=!0;for(;p.parentNode&&o&&p.parentNode!=document.body;)if(p.parentNode.hasAttribute("phpjcomponent")&&(o=!1,phpj.state[p.parentNode.getAttribute("phpjcomponent")])){let t=phpj.state[p.parentNode.getAttribute("phpjcomponent")].component;phpj.components[t].onMSG(p.parentNode.getAttribute("phpjcomponent"),e,n)}},log:e=>{"DEVELOPMENT"===phpj.config.ENVIRONMENT&&phpj.log.push(e)}}},function(e,t){e.exports={ENVIRONMENT:"DEVELOPMENT",URI:{DEVELOPMENT:"http://localhost:80/phpj/",LAN:"http://192.168.1.68:80/phpj/",DEPLOY:"phpj/"},ASSETS:{DEVELOPMENT:"http://localhost:80/phpj/assets/",LAN:"http://localhost:80/phpj/assets/",DEPLOY:"phpj/assets/"}}}]);